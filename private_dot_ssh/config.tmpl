Host github.com
    HostName github.com
    User git
    AddKeysToAgent yes
    UseKeychain yes
    IdentityFile ~/.ssh/{{ .personal.ssh.identityFile }}
    IdentitiesOnly yes

{{- if .work.enable }}

# Work GitHub organizations
Host github.com-work
    HostName github.com
    User git
    AddKeysToAgent yes
    UseKeychain yes
    IdentityFile ~/.ssh/{{ .work.ssh.user.identityFile }}
    IdentitiesOnly yes

# Specific patterns for organization SSH URLs
Host org-*.github.com
    HostName github.com
    User git
    AddKeysToAgent yes
    UseKeychain yes
    IdentityFile ~/.ssh/{{ .work.ssh.organization.identityFile }}
    IdentitiesOnly yes

{{- end }}
